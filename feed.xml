<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://lvzeyu.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://lvzeyu.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2026-01-04T03:26:47+00:00</updated><id>https://lvzeyu.github.io/feed.xml</id><title type="html">blank</title><entry><title type="html">第80回数理社会学会大会ワンステップアップ・セミナー</title><link href="https://lvzeyu.github.io/blog/2026/JAMS-seminar/" rel="alternate" type="text/html" title="第80回数理社会学会大会ワンステップアップ・セミナー"/><published>2026-01-02T00:00:00+00:00</published><updated>2026-01-02T00:00:00+00:00</updated><id>https://lvzeyu.github.io/blog/2026/JAMS-seminar</id><content type="html" xml:base="https://lvzeyu.github.io/blog/2026/JAMS-seminar/"><![CDATA[<h1 id="セミナーの概要">セミナーの概要</h1> <ul> <li>題目： 社会科学における大規模言語モデルの応用</li> <li>日時：2026年3月6日（金） 15:00～17:00</li> <li>場所：日本大学 文理学部キャンパス 3404教室</li> <li>内容：大規模言語モデル（LLMs）の基礎的な概念と、社会科学分野における応用について紹介する。具体的には、LLMsを用いたテキスト分析および社会シミュレーションの具体例を取り上げ、Pythonによる実装も交えながら、理解を深めていく。</li> <li>目標： <ul> <li>LLMsの基本概念と仕組みを理解する</li> <li>LLMsの発展と社会科学への応用可能性を把握する</li> <li>Pythonを用いたLLMsの実装方法を習得する</li> </ul> </li> <li>扱う項目: <ul> <li>LLMsの基礎概念</li> <li>LLMsを実装するため環境配置</li> <li>LLMsを用いたテキスト分析</li> <li>LLMsを用いた社会シミュレーション</li> </ul> </li> <li>テキスト: 特になし。関連資料は https://lvzeyu.github.io/blog/2025/JAMS-seminar/ にて公開予定である。</li> <li>留意事項：LLMsの実装にはOpenAIのAPIキーが必要であるため、事前に取得しておくことが望ましい。</li> </ul> <blockquote> <p>セミナーの詳細および関連資料は、今後このページで随時更新される予定である</p> </blockquote>]]></content><author><name></name></author><category term="tutorial"/><category term="NLP,"/><category term="LLMs"/><summary type="html"><![CDATA[数理社会学会大会前日にのワンステップアップ・セミナーの資料]]></summary></entry><entry><title type="html">oTreeに関するメモ</title><link href="https://lvzeyu.github.io/blog/2025/otree/" rel="alternate" type="text/html" title="oTreeに関するメモ"/><published>2025-12-22T10:30:00+00:00</published><updated>2025-12-22T10:30:00+00:00</updated><id>https://lvzeyu.github.io/blog/2025/otree</id><content type="html" xml:base="https://lvzeyu.github.io/blog/2025/otree/"><![CDATA[<h1 id="otreeのapi">oTreeのAPI</h1> <p>oTreeには、外部プログラム（他のWebサイトなど）がoTreeと通信できるようにする REST API があります。</p> <blockquote class="block-tip"> <h5 id="そもそもrest-apiって何">そもそも「REST API」って何?</h5> <p>ざっくり言うと、ブラウザ上で操作して閲覧できるデータを、プログラムからも同様に取得するための「窓口」です。 REST API を利用することで、同じ操作を再現可能な自動処理として実行できるため、定期的なデータの取得や、複数セッションの一括取得など、手作業では煩雑になりがちな処理を効率化できます。</p> </blockquote> <h2 id="otreeのapiでデータを取得する">oTreeのAPIでデータを取得する</h2> <p>oTreeで実験を実施後、取得されたデータは、画面上部の<code class="language-plaintext highlighter-rouge">メニュー</code>内にある<code class="language-plaintext highlighter-rouge">Data</code>から、<code class="language-plaintext highlighter-rouge">CSV</code>ファイルなどを手動でダウンロードすることが可能です。</p> <p>ただ、参加者が増えてセッション数が多くなったり、データ取得と分析を繰り返し行う場合には、REST APIを用いてデータを自動取得する方法が便利です。</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/otree/otree_data_api-480.webp 480w,/assets/img/otree/otree_data_api-800.webp 800w,/assets/img/otree/otree_data_api-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/otree/otree_data_api.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p><code class="language-plaintext highlighter-rouge">Data</code>画面の <code class="language-plaintext highlighter-rouge">Show API URLs</code> を開くと、データ取得用のエンドポイント（例：<code class="language-plaintext highlighter-rouge">/api/export_wide</code>）が表示されます。これらのURLに対して HTTPのGETリクエスト を送ることで、ブラウザでのダウンロード操作を行わなくても、プログラムからCSVを取得できます。たとえば、全アプリを1ファイルにまとめた wide 形式のデータは次のURLで取得できます。</p> <ul> <li> <p>全データ（wide形式）：<code class="language-plaintext highlighter-rouge">/api/export_wide</code></p> </li> <li> <p>Excel向け（BOM付き）：<code class="language-plaintext highlighter-rouge">/api/export_wide?format=csv_bom</code></p> </li> <li> <p>セッション限定：<code class="language-plaintext highlighter-rouge">/api/export_wide?session_code={SESSION_CODE}</code></p> </li> </ul> <p>実際の取得は、Python などのHTTPクライアントを使って行うことが多いです。</p> <p>例えばPythonを使う場合は以下のようになります。</p> <figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="code"><pre><span class="kn">import</span> <span class="n">requests</span>
<span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">from</span> <span class="n">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>

<span class="n">url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">http://localhost:8000/api/export_app</span><span class="sh">"</span>  <span class="c1"># APIのエンドポイントURL
</span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">app</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">questionnaire</span><span class="sh">"</span><span class="p">}</span>  <span class="c1"># 取得するアプリ名を指定
</span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">Authorization</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Token YOUR_API_TOKEN</span><span class="sh">"</span>  <span class="c1"># 認証用のAPIトークン
</span><span class="p">}</span>

<span class="c1"># GETリクエストを送信してデータを取得
</span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">URL requested: </span><span class="si">{</span><span class="n">r</span><span class="p">.</span><span class="n">url</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># リクエストしたURLを表示
</span><span class="n">r</span><span class="p">.</span><span class="nf">raise_for_status</span><span class="p">()</span>  <span class="c1"># エラーがあれば例外を発生させる
</span>
<span class="c1"># レスポンスのバイナリデータをPandas DataFrameに変換
</span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_csv</span><span class="p">(</span><span class="nc">BytesIO</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">content</span><span class="p">))</span>

<span class="c1"># CSVファイルとして保存
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">questionnaire.csv</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">wb</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>このようにREST APIを用いることで、(1) セッションごとのデータ収集、(2) 定期的な自動ダウンロード、(3) 分析スクリプトとの連携による再現性の確保、が容易になります。特に、実験を複数回実施する場合や、データ取得から前処理・分析までを一連のパイプラインとして管理したい場合に有効です。</p>]]></content><author><name></name></author><category term="note"/><category term="coding,"/><category term="otree"/><summary type="html"><![CDATA[oTreeの使い方やTipsなどのメモ]]></summary></entry></feed>